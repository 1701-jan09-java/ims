CREATE TABLE IMS_CATEGORY (
C_ID NUMBER(*,0) NOT NULL,
C_NAME VARCHAR2(4000 BYTE) UNIQUE,
CONSTRAINT IMS_CATEGORY_PK  PRIMARY KEY (C_ID)
);

CREATE TABLE IMS_PRODUCT (
P_ID NUMBER(*,0) NOT NULL,
P_NAME VARCHAR2(4000 BYTE) UNIQUE,
P_SUPPLIER_PRICE NUMBER(38,2),
P_RETAILER_PRICE NUMBER(38,2),
CONSTRAINT IMS_PRODUCT_PK  PRIMARY KEY (P_ID)
);

CREATE TABLE IMS_ADDRESS (
A_ID NUMBER(*,0) NOT NULL,
A_STREET VARCHAR2(4000 BYTE),
A_CITY VARCHAR2(4000 BYTE),
A_STATE VARCHAR2(4000 BYTE),
A_ZIP VARCHAR2(4000 BYTE),
CONSTRAINT IMS_ADDRESS_PK PRIMARY KEY (A_ID)
);

CREATE TABLE IMS_RETAILER(
R_ID NUMBER(*,0) NOT NULL,
R_NAME VARCHAR2(4000 Byte) NOT NULL UNIQUE,
R_ADDRESS NUMBER(*,0) NOT NULL,
CONSTRAINT IMS_RETAILER_PK PRIMARY KEY (R_ID),
FOREIGN KEY(R_ADDRESS) REFERENCES IMS_ADDRESS(A_ID)
);

CREATE TABLE IMS_SUPPLIER(
S_ID NUMBER(*,0) NOT NULL,
S_NAME VARCHAR2(4000 Byte) NOT NULL UNIQUE,
S_ADDRESS NUMBER(*,0) NOT NULL,
CONSTRAINT IMS_SUPPLIER_PK PRIMARY KEY (S_ID),
FOREIGN KEY(S_ADDRESS) REFERENCES IMS_ADDRESS(A_ID)
);

CREATE TABLE IMS_PURCHASE_ORDER(
PO_ID NUMBER(*,0) NOT NULL,
PO_TS TIMESTAMP,
PO_SUPPLIER NUMBER NOT NULL,
PO_RETAILER NUMBER NOT NULL,
PO_COST NUMBER(38,2),
CONSTRAINT IMS_PURCHASE_ORDER PRIMARY KEY (PO_ID),
FOREIGN KEY(PO_SUPPLIER) REFERENCES IMS_SUPPLIER(S_ID),
FOREIGN KEY(PO_RETAILER) REFERENCES IMS_RETAILER(R_ID)
);


CREATE TABLE IMS_RETAILER_INVENTORY(
RI_ID NUMBER(*,0) NOT NULL,
RI_RETAILER NUMBER,
RI_PRODUCT NUMBER NOT NULL,
RI_PRODUCT_QUANTITY NUMBER NOT NULL,
RI_PRODUCT_THRESHOLD NUMBER NOT NULL,
CONSTRAINT IMS_RETAILER_INVENTORY PRIMARY KEY (RI_ID),
FOREIGN KEY(RI_RETAILER) REFERENCES IMS_RETAILER(R_ID),
FOREIGN KEY(RI_PRODUCT) REFERENCES IMS_PRODUCT(P_ID)
);


CREATE TABLE IMS_PRODUCT_CATEGORY (
P_ID NUMBER(*,0) NOT NULL,
C_ID NUMBER(*,0) NOT NULL,
CONSTRAINT IMS_PRODUCT_CATEGORY_PK  PRIMARY KEY (P_ID,C_ID),
FOREIGN KEY(P_ID) REFERENCES IMS_PRODUCT(P_ID),
FOREIGN KEY(C_ID) REFERENCES IMS_CATEGORY(C_ID)
);

CREATE TABLE IMS_RETAILER_SALE (
RS_ID NUMBER NOT NULL,
RS_RETAILER NUMBER,
RS_PRODUCT NUMBER,
RS_PRODUCT_QUANTITY NUMBER,
RS_COST NUMBER(38,2),
RS_TS TIMESTAMP,
CONSTRAINT IMS_RETAILER_SALE_PK  PRIMARY KEY (RS_ID),
FOREIGN KEY(RS_RETAILER) REFERENCES IMS_RETAILER(R_ID),
FOREIGN KEY(RS_PRODUCT) REFERENCES IMS_PRODUCT(P_ID)
);


CREATE TABLE IMS_PO_LINE (
POL_ID NUMBER NOT NULL,
POL_PO NUMBER,
POL_PRODUCT NUMBER,
POL_QUANTITY NUMBER,
POL_COST NUMBER(38,2),
CONSTRAINT IMS_PO_LINE_PK  PRIMARY KEY (POL_ID),
FOREIGN KEY(POL_PRODUCT) REFERENCES IMS_PRODUCT(P_ID),
FOREIGN KEY(POL_PO) REFERENCES IMS_PURCHASE_ORDER(PO_ID)
);



create sequence ADDR_SEQ
start with 100
increment by 1;

create sequence CAT_SEQ
start with 100
increment by 1;

create sequence PO_LINE_SEQ
start with 100
increment by 1;

create sequence PROD_CAT_SEQ
start with 100
increment by 1;

create sequence PROD_SEQ
start with 100
increment by 1;

create sequence PURCH_ORDER_SEQ
start with 100
increment by 1;

create sequence RET_INV_SEQ
start with 100
increment by 1;

create sequence RET_SALE_SEQ
start with 100
increment by 1;

create sequence RET_SEQ
start with 100
increment by 1;

create sequence SUPP_SEQ
start with 100
increment by 1;

COMMIT;